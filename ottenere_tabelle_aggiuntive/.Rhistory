View(tab)
tab <- lapply(tab, gsub, pattern='p', replacement='')
tab <- lapply(tab, gsub, pattern='b', replacement='')
tab <- lapply(tab, gsub, pattern='e', replacement='')
tab <- lapply(tab, gsub, pattern=':', replacement=NA)
tab <- data.frame(tab)
tab <- tab[which(tab$sex=='T' & tab$age=='TOTAL'),]
tab <- cbind(tab[,1:5], sapply(tab[,6:12], as.numeric))
View(tab)
acad_staff_ration <- tab[which(tab$ISCED11=='ED5-8'),]
View(acad_staff_ration)
rm(list=ls())
tab1 <- read.table('academic_staff.tsv', sep='\t', header=T)
View(tab1)
View(tab1)
rm(list=ls())
tab1 <- read.table('academic_staff.tsv', sep='\t', header=T)
write.table(tab1[[1]], file='temp.txt', row.names = F, quote = F, col.names = F)
tab2 <- read.table('temp.txt', sep=',')
colnames(tab2) <- c('unit_measure', 'ISCED11', 'age', 'sex', 'country')
tab <- cbind(tab2, tab1[,2:8])
tab <- lapply(tab, gsub, pattern='p', replacement='')
tab <- lapply(tab, gsub, pattern='b', replacement='')
tab <- lapply(tab, gsub, pattern='e', replacement='')
tab <- lapply(tab, gsub, pattern=':', replacement=NA)
tab <- data.frame(tab)
tab <- tab[which(tab$sex=='T' & tab$age=='TOTAL'),]
tab <- cbind(tab[,1:5], sapply(tab[,6:12], as.numeric))
acad_staff_ration <- tab[which(tab$ISCED11=='ED5-8'),]
View(tab)
rm(list=ls())
tab1 <- read.table('academic_staff.tsv', sep='\t', header=T)
write.table(tab1[[1]], file='temp.txt', row.names = F, quote = F, col.names = F)
tab2 <- read.table('temp.txt', sep=',')
colnames(tab2) <- c('unit_measure', 'ISCED11', 'age', 'sex', 'country')
tab <- cbind(tab2, tab1[,2:8])
tab <- lapply(tab, gsub, pattern='p', replacement='')
tab <- lapply(tab, gsub, pattern='b', replacement='')
tab <- lapply(tab, gsub, pattern='e', replacement='')
tab <- lapply(tab, gsub, pattern=':', replacement=NA)
tab <- data.frame(tab)
tab <- tab[which(tab$sex=='T' & tab$age=='TOTAL' & tab$ISCED11=='ED5-8'),]
tab <- cbind(tab[,1:5], sapply(tab[,6:12], as.numeric))
View(tab)
View(tab2)
rm(list=ls())
tab1 <- read.table('academic_staff.tsv', sep='\t', header=T)
write.table(tab1[[1]], file='temp.txt', row.names = F, quote = F, col.names = F)
tab2 <- read.table('temp.txt', sep=',')
colnames(tab2) <- c('unit_measure', 'ISCED11', 'age', 'sex', 'country')
tab <- cbind(tab2, tab1[,2:8])
tab <- lapply(tab, gsub, pattern='p', replacement='')
tab <- lapply(tab, gsub, pattern='b', replacement='')
tab <- lapply(tab, gsub, pattern='e', replacement='')
tab <- lapply(tab, gsub, pattern=':', replacement=NA)
tab <- data.frame(tab)
tab <- cbind(tab[,1:5], sapply(tab[,6:12], as.numeric))
View(tab)
tab <- tab[which(tab$sex=='T' & tab$age=='TOTAL' & tab$ISCED11=='ED5-8'),]
View(tab)
rm(list=ls())
tab1 <- read.table('academic_staff.tsv', sep='\t', header=T)
write.table(tab1[[1]], file='temp.txt', row.names = F, quote = F, col.names = F)
tab2 <- read.table('temp.txt', sep=',')
colnames(tab2) <- c('unit_measure', 'ISCED11', 'age', 'sex', 'country')
tab <- cbind(tab2, tab1[,2:8])
tab <- lapply(tab, gsub, pattern='p', replacement='')
tab <- lapply(tab, gsub, pattern='b', replacement='')
tab <- lapply(tab, gsub, pattern='e', replacement='')
tab <- lapply(tab, gsub, pattern=':', replacement=NA)
tab <- data.frame(tab)
View(tab)
#tab <- cbind(tab[,1:5], sapply(tab[,6:12], as.numeric))
tab <- tab[which(tab$sex=='T' & tab$age=='TOTAL' & tab$ISCED11=='ED5-8'),]
rm(list=ls())
tab1 <- read.table('academic_staff.tsv', sep='\t', header=T)
write.table(tab1[[1]], file='temp.txt', row.names = F, quote = F, col.names = F)
tab2 <- read.table('temp.txt', sep=',')
colnames(tab2) <- c('unit_measure', 'ISCED11', 'age', 'sex', 'country')
tab <- cbind(tab2, tab1[,2:8])
tab <- lapply(tab, gsub, pattern='p', replacement='')
tab <- lapply(tab, gsub, pattern='b', replacement='')
tab <- lapply(tab, gsub, pattern='e', replacement='')
tab <- lapply(tab, gsub, pattern='d', replacement='')
tab <- lapply(tab, gsub, pattern=':', replacement=NA)
tab <- data.frame(tab)
#tab <- cbind(tab[,1:5], sapply(tab[,6:12], as.numeric))
tab <- tab[which(tab$sex=='T' & tab$age=='TOTAL' & tab$ISCED11=='ED5-8'),]
sapply(tab[,6:12], as.numeric)
tab$X2019
as.numeric(tab$X2019)
as.integer(tab$X2019)
source('C:/Users/carlo/Desktop/Università/Magistrale/Anno02/Nonparametric_Statistics/Progetto/tabelle aggiuntive/acad_staff.R')
View(tab)
View(tab)
acad_staff <- cbind(country = tab$country,
num_staff = rowMeans(tab[,6:12]))
tab[,6:12]
rowMeans(tab[,6:12])
as.numeric(levels(tab$X2013))[tab$X2013]
sapply(tab[,6:12], as.character)
sapply(sapply(tab[,6:12], as.character), as.numeric)
tab <- cbind(tab[,1:5], sapply(sapply(tab[,6:12], as.character), as.numeric))
rm(list=ls())
tab1 <- read.table('academic_staff.tsv', sep='\t', header=T)
write.table(tab1[[1]], file='temp.txt', row.names = F, quote = F, col.names = F)
tab2 <- read.table('temp.txt', sep=',')
colnames(tab2) <- c('unit_measure', 'ISCED11', 'age', 'sex', 'country')
tab <- cbind(tab2, tab1[,2:8])
tab <- lapply(tab, gsub, pattern='p', replacement='')
tab <- lapply(tab, gsub, pattern='b', replacement='')
tab <- lapply(tab, gsub, pattern='e', replacement='')
tab <- lapply(tab, gsub, pattern='d', replacement='')
tab <- lapply(tab, gsub, pattern=':', replacement=NA)
tab <- data.frame(tab)
tab <- tab[which(tab$sex=='T' & tab$age=='TOTAL' & tab$ISCED11=='ED5-8'),]
tab <- cbind(tab[,1:5], sapply(sapply(tab[,6:12], as.character), as.numeric))
tab[,1:5]
sapply(sapply(tab[,6:12], as.character), as.numeric)
sapply(tab[,6:12], as.character)
rm(list=ls())
tab1 <- read.table('academic_staff.tsv', sep='\t', header=T)
write.table(tab1[[1]], file='temp.txt', row.names = F, quote = F, col.names = F)
tab2 <- read.table('temp.txt', sep=',')
colnames(tab2) <- c('unit_measure', 'ISCED11', 'age', 'sex', 'country')
tab <- cbind(tab2, tab1[,2:8])
tab <- lapply(tab, gsub, pattern='p', replacement='')
tab <- lapply(tab, gsub, pattern='b', replacement='')
tab <- lapply(tab, gsub, pattern='e', replacement='')
tab <- lapply(tab, gsub, pattern='d', replacement='')
tab <- lapply(tab, gsub, pattern=':', replacement=NA)
tab <- data.frame(tab)
tab <- tab[which(tab$sex=='T' & tab$age=='TOTAL' & tab$ISCED11=='ED5-8'),]
sapply(sapply(tab[,6:12], as.character), as.numeric)
tab <- cbind(tab[,1:5], sapply(sapply(tab[,6:12], as.character), as.numeric))
tab <- tab[which(tab$sex=='T' & tab$age=='TOTAL' & tab$ISCED11=='ED5-8'),]
rm(list=ls())
tab1 <- read.table('academic_staff.tsv', sep='\t', header=T)
write.table(tab1[[1]], file='temp.txt', row.names = F, quote = F, col.names = F)
tab2 <- read.table('temp.txt', sep=',')
colnames(tab2) <- c('unit_measure', 'ISCED11', 'age', 'sex', 'country')
tab <- cbind(tab2, tab1[,2:8])
tab <- lapply(tab, gsub, pattern='p', replacement='')
tab <- lapply(tab, gsub, pattern='b', replacement='')
tab <- lapply(tab, gsub, pattern='e', replacement='')
tab <- lapply(tab, gsub, pattern='d', replacement='')
tab <- lapply(tab, gsub, pattern=':', replacement=NA)
tab <- data.frame(tab)
tab <- tab[which(tab$sex=='T' & tab$age=='TOTAL' & tab$ISCED11=='ED5-8'),]
sapply(sapply(tab[,6:12], as.character), as.numeric)
tt <- sapply(sapply(tab[,6:12], as.character), as.numeric)
sapply(tab[,6:12], as.character)
tt <- sapply(tab[,6:12], as.character)
tt <- data.frame(sapply(tab[,6:12], as.character))
View(tt)
tab <- cbind(tab[,1:5], sapply(data.frame(sapply(tab[,6:12], as.character)), as.numeric))
View(tab)
rm(list=ls())
tab1 <- read.table('academic_staff.tsv', sep='\t', header=T)
write.table(tab1[[1]], file='temp.txt', row.names = F, quote = F, col.names = F)
tab2 <- read.table('temp.txt', sep=',')
colnames(tab2) <- c('unit_measure', 'ISCED11', 'age', 'sex', 'country')
tab <- cbind(tab2, tab1[,2:8])
tab <- lapply(tab, gsub, pattern='p', replacement='')
tab <- lapply(tab, gsub, pattern='b', replacement='')
tab <- lapply(tab, gsub, pattern='e', replacement='')
tab <- lapply(tab, gsub, pattern='d', replacement='')
tab <- lapply(tab, gsub, pattern=':', replacement=NA)
tab <- data.frame(tab)
tab <- tab[which(tab$sex=='T' & tab$age=='TOTAL' & tab$ISCED11=='ED5-8'),]
tab <- cbind(tab[,1:5], sapply(data.frame(sapply(tab[,6:12], as.character)), as.numeric))
View(tab)
rm(list=ls())
tab1 <- read.table('academic_staff.tsv', sep='\t', header=T)
write.table(tab1[[1]], file='temp.txt', row.names = F, quote = F, col.names = F)
tab2 <- read.table('temp.txt', sep=',')
colnames(tab2) <- c('unit_measure', 'ISCED11', 'age', 'sex', 'country')
tab <- cbind(tab2, tab1[,2:8])
tab <- lapply(tab, gsub, pattern='p', replacement='')
tab <- lapply(tab, gsub, pattern='b', replacement='')
tab <- lapply(tab, gsub, pattern='e', replacement='')
tab <- lapply(tab, gsub, pattern='d', replacement='')
tab <- lapply(tab, gsub, pattern=':', replacement=NA)
tab <- data.frame(tab)
tab <- tab[which(tab$sex=='T' & tab$age=='TOTAL' & tab$ISCED11=='ED5-8'),]
tt <- data.frame(sapply(tab[,6:12], as.character))
View(tt)
tt
tt[2,3]
tt[2,7]
tt[4,7]
typeof(tt)
typeof(tt[4,7])
View(tt)
rm(list=ls())
tab1 <- read.table('academic_staff.tsv', sep='\t', header=T)
write.table(tab1[[1]], file='temp.txt', row.names = F, quote = F, col.names = F)
tab2 <- read.table('temp.txt', sep=',')
colnames(tab2) <- c('unit_measure', 'ISCED11', 'age', 'sex', 'country')
tab <- cbind(tab2, tab1[,2:8])
tab <- lapply(tab, gsub, pattern='p', replacement='')
tab <- lapply(tab, gsub, pattern='b', replacement='')
tab <- lapply(tab, gsub, pattern='e', replacement='')
tab <- lapply(tab, gsub, pattern='d', replacement='')
tab <- lapply(tab, gsub, pattern=':', replacement=NA)
tab <- data.frame(tab)
tab <- tab[which(tab$sex=='T' & tab$age=='TOTAL' & tab$ISCED11=='ED5-8'),]
tab <- cbind(tab[,1:5], data.frame(sapply(tab[,6:12], as.character)))
View(tab)
acad_staff <- cbind(country = tab$country,
num_staff = rowMeans(tab[,6:12]))
tab[,6:12]
as.matrix(tab[,6:12])
typeof(as.matrix(tab[,6:12]))
typeof(as.numeric(tab[,6:12]))
rm(list=ls())
tab1 <- read.table('academic_staff.tsv', sep='\t', header=T)
write.table(tab1[[1]], file='temp.txt', row.names = F, quote = F, col.names = F)
tab2 <- read.table('temp.txt', sep=',')
colnames(tab2) <- c('unit_measure', 'ISCED11', 'age', 'sex', 'country')
tab <- cbind(tab2, tab1[,2:8])
tab <- lapply(tab, gsub, pattern='p', replacement='')
tab <- lapply(tab, gsub, pattern='b', replacement='')
tab <- lapply(tab, gsub, pattern='e', replacement='')
tab <- lapply(tab, gsub, pattern='d', replacement='')
tab <- lapply(tab, gsub, pattern=':', replacement=NA)
tab <- data.frame(tab)
View(tab)
typeof(tab$X2015)
rowMeans(tab$X2018)
rowMeans(tab[,c(6,7)])
View(tab1)
View(tab2)
rm(list=ls())
tab1 <- read.table('academic_staff.tsv', sep='\t', header=T)
write.table(tab1[[1]], file='temp.txt', row.names = F, quote = F, col.names = F)
tab2 <- read.table('temp.txt', sep=',')
colnames(tab2) <- c('unit_measure', 'ISCED11', 'age', 'sex', 'country')
tab <- cbind(tab2, tab1[,2:8])
tab <- lapply(tab, gsub, pattern='p', replacement='')
tab <- lapply(tab, gsub, pattern='b', replacement='')
tab <- lapply(tab, gsub, pattern='e', replacement='')
tab <- lapply(tab, gsub, pattern='d', replacement='')
tab <- lapply(tab, gsub, pattern=':', replacement=NA)
tab <- data.frame(tab)
rm(list=ls())
tab1 <- read.table('academic_staff.tsv', sep='\t', header=T)
write.table(tab1[[1]], file='temp.txt', row.names = F, quote = F, col.names = F)
tab2 <- read.table('temp.txt', sep=',')
colnames(tab2) <- c('unit_measure', 'ISCED11', 'age', 'sex', 'country')
tab <- cbind(tab2, tab1[,2:8])
tab <- lapply(tab, gsub, pattern='p', replacement='')
tab <- lapply(tab, gsub, pattern='b', replacement='')
tab <- lapply(tab, gsub, pattern='e', replacement='')
tab <- lapply(tab, gsub, pattern='d', replacement='')
tab <- lapply(tab, gsub, pattern=':', replacement=NA)
tab <- data.frame(tab)
tab <- tab[which(tab$sex=='T' & tab$age=='TOTAL' & tab$ISCED11=='ED5-8'),]
tab <- cbind(tab[,1:5], data.frame(sapply(tab[,6:12], as.character)))
tab$X2018
# converto la parte numerica da factor a numeric
library(dplyr)
num_cols <- colnames(tab)[6:12]
tab_new <- tab %>%
select(num_cols) %>%
mutate_at(vars(num_cols),
list(numeric))
tab_new <- tab %>%
select(num_cols) %>%
mutate(across(num_cols), list(numeric))
View(tab_new)
tab_new <- tab %>%
select(num_cols) %>%
mutate(across(num_cols), numeric)
rm(list=ls())
tab1 <- read.table('academic_staff.tsv', sep='\t', header=T)
write.table(tab1[[1]], file='temp.txt', row.names = F, quote = F, col.names = F)
tab2 <- read.table('temp.txt', sep=',')
colnames(tab2) <- c('unit_measure', 'ISCED11', 'age', 'sex', 'country')
tab <- cbind(tab2, tab1[,2:8])
tab <- lapply(tab, gsub, pattern='p', replacement='')
tab <- lapply(tab, gsub, pattern='b', replacement='')
tab <- lapply(tab, gsub, pattern='e', replacement='')
tab <- lapply(tab, gsub, pattern='d', replacement='')
tab <- lapply(tab, gsub, pattern=':', replacement=NA)
tab <- data.frame(tab)
tab <- tab[which(tab$sex=='T' & tab$age=='TOTAL' & tab$ISCED11=='ED5-8'),]
num_tab <- tab[,6:12]
View(num_tab)
typeof(num_tab)
typeof(data.frame(num_tab))
rowMeans(num_tab)
num_tab[4,7]
num_tab <- sapply(num_tab, as.character)
View(num_tab)
num_tab<- sapply(num_tab, as.numeric)
View(tab)
num_tab <- tab[,6:12]
num_tab <- sapply(num_tab, as.character)
as.data.frame(sapply(num_tab, as.numeric))
data.frame(lapply(num_tab,as.numeric))
lapply(num_tab, as.numeric)
lapply(data.frame(num_tab), as.numeric)
num_tab<- data.frame(lapply(data.frame(num_tab), as.numeric))
View(num_tab)
rm(list=ls())
tab1 <- read.table('academic_staff.tsv', sep='\t', header=T)
write.table(tab1[[1]], file='temp.txt', row.names = F, quote = F, col.names = F)
tab2 <- read.table('temp.txt', sep=',')
colnames(tab2) <- c('unit_measure', 'ISCED11', 'age', 'sex', 'country')
tab <- cbind(tab2, tab1[,2:8])
tab <- lapply(tab, gsub, pattern='p', replacement='')
tab <- lapply(tab, gsub, pattern='b', replacement='')
tab <- lapply(tab, gsub, pattern='e', replacement='')
tab <- lapply(tab, gsub, pattern='d', replacement='')
tab <- lapply(tab, gsub, pattern=':', replacement=NA)
tab <- data.frame(tab)
tab <- tab[which(tab$sex=='T' & tab$age=='TOTAL' & tab$ISCED11=='ED5-8'),]
num_tab <- tab[,6:12]
num_tab <- sapply(num_tab, as.character)
rm(list=ls())
tab1 <- read.table('academic_staff.tsv', sep='\t', header=T)
write.table(tab1[[1]], file='temp.txt', row.names = F, quote = F, col.names = F)
tab2 <- read.table('temp.txt', sep=',')
colnames(tab2) <- c('unit_measure', 'ISCED11', 'age', 'sex', 'country')
tab <- cbind(tab2, tab1[,2:8])
tab <- lapply(tab, gsub, pattern='p', replacement='')
tab <- lapply(tab, gsub, pattern='b', replacement='')
tab <- lapply(tab, gsub, pattern='e', replacement='')
tab <- lapply(tab, gsub, pattern='d', replacement='')
tab <- lapply(tab, gsub, pattern=':', replacement=NA)
tab <- data.frame(tab)
tab <- tab[which(tab$sex=='T' & tab$age=='TOTAL' & tab$ISCED11=='ED5-8'),]
num_tab <- tab[,6:12]
num_tab <- data.frame(sapply(num_tab, as.character))
View(num_tab)
num_tab$X2016
rm(list=ls())
tab1 <- read.table('academic_staff.tsv', sep='\t', header=T)
write.table(tab1[[1]], file='temp.txt', row.names = F, quote = F, col.names = F)
tab2 <- read.table('temp.txt', sep=',')
colnames(tab2) <- c('unit_measure', 'ISCED11', 'age', 'sex', 'country')
tab <- cbind(tab2, tab1[,2:8])
tab <- lapply(tab, gsub, pattern='p', replacement='')
tab <- lapply(tab, gsub, pattern='b', replacement='')
tab <- lapply(tab, gsub, pattern='e', replacement='')
tab <- lapply(tab, gsub, pattern='d', replacement='')
tab <- lapply(tab, gsub, pattern=':', replacement=NA)
tab <- data.frame(tab)
tab <- tab[which(tab$sex=='T' & tab$age=='TOTAL' & tab$ISCED11=='ED5-8'),]
num_tab <- tab[,6:12]
num_tab <- sapply(num_tab, as.character)
mapply(num_tab, as.numeric)
sapply(num_tab, as.numeric)
matrix(data=sapply(num_tab, as.nuemric), ncol=7, nrow=37)
matrix(data=sapply(num_tab, as.numeric), ncol=7, nrow=37)
acad_staff <- cbind(country = tab$country,
num_staff = rowMeans(num_tab))
num_tab
num_tab <- tab[,6:12]
num_tab <- sapply(num_tab, as.character)
matrix(data=sapply(num_tab, as.numeric), ncol=7, nrow=37)
num_tab <- matrix(data=sapply(num_tab, as.numeric), ncol=7, nrow=37)
View(num_tab)
num_tab[4,6]
typeof(num_tab[4,6])
rowMeans(num_tab)
acad_staff <- cbind(country = tab$country,
num_staff = rowMeans(num_tab))
acad_staff <- data.frame(cbind(country = tab$country,
num_staff = rowMeans(num_tab)))
View(acad_staff)
help("rowMeans")
acad_staff <- data.frame(cbind(country = tab$country,
num_staff = rowMeans(num_tab, na.rm = T)))
View(acad_staff)
tab$country
as.character(tab$country)
acad_staff <- data.frame(cbind(country = as.character(tab$country),
num_staff = rowMeans(num_tab, na.rm = T)))
View(acad_staff)
tab1 <- read.table('stud_aca_staff_ratio.tsv', sep='\t', header=T)
View(tab1)
write.table(tab1[[1]], file='temp.txt', row.names = F, quote = F, col.names = F)
tab2 <- read.table('temp.txt', sep=',')
View(tab2)
colnames(tab2) <- c('unit_measure', 'ISCED11', 'country')
View(tab1)
tab <- cbind(tab2, tab1[,2:8])
tab <- lapply(tab, gsub, pattern='p', replacement='')
tab <- lapply(tab, gsub, pattern='b', replacement='')
tab <- lapply(tab, gsub, pattern='e', replacement='')
tab <- lapply(tab, gsub, pattern='d', replacement='')
tab <- lapply(tab, gsub, pattern=':', replacement=NA)
tab <- data.frame(tab)
View(tab)
tab <- tab[which(tab$ISCED11=='ED5-8'),]
View(acad_staff)
unique(tab$country)
unique(tab$country) == unique(acad_staff$country)
unique(tab$country) %in% unique(acad_staff$country)
unique(acad_staff$country) %in% unique(tab$country)
num_tab <- tab[,4:10]
num_tab <- sapply(num_tab, as.character)
num_tab <- matrix(data=sapply(num_tab, as.numeric), ncol=7, nrow=37)
tab1 <- read.table('stud_aca_staff_ratio.tsv', sep='\t', header=T)
write.table(tab1[[1]], file='temp.txt', row.names = F, quote = F, col.names = F)
tab2 <- read.table('temp.txt', sep=',')
colnames(tab2) <- c('unit_measure', 'ISCED11', 'country')
tab <- cbind(tab2, tab1[,2:8])
tab <- lapply(tab, gsub, pattern='p', replacement='')
tab <- lapply(tab, gsub, pattern='b', replacement='')
tab <- lapply(tab, gsub, pattern='e', replacement='')
tab <- lapply(tab, gsub, pattern='d', replacement='')
tab <- lapply(tab, gsub, pattern=':', replacement=NA)
tab <- data.frame(tab)
tab <- tab[which(tab$ISCED11=='ED5-8'),]
num_tab <- tab[,4:10]
num_tab <- sapply(num_tab, as.character)
num_tab <- matrix(data=sapply(num_tab, as.numeric), ncol=7, nrow=36)
stud_per_staff <- data.frame(cbind(country = as.character(tab$country),
stud_per_staff = rowMeans(num_tab, na.rm = T)))
View(stud_per_staff)
stud_per_staff[37,] <- c('CH', 300000/acad_staff$num_staff[5])
levels(stud_per_staff$country) <- c('CH', levels(stud_per_staff$country))
stud_per_staff[37,] <- c('CH', 300000/acad_staff$num_staff[5])
levels(stud_per_staff$country)
300000/acad_staff$num_staff[5]
300000/acad_staff$num_staff[5]
acad_staff$num_staff
acad_staff$num_staff[5]
stud_per_staff[37,] <- c('CH', 300000/34775)
stud_per_staff <- cbind(country = as.character(tab$country),
stud_per_staff = rowMeans(num_tab, na.rm = T))
stud_per_staff[37,] <- c('CH', 300000/34775)
stud_per_staff <- rbind(stud_per_staff, c('CH', 300000/34775))
View(stud_per_staff)
stud_per_staff[18,2] <- 220000/9345.5
220000/9345.5
80000/10122
rm(list=ls())
tab1 <- read.table('academic_staff.tsv', sep='\t', header=T)
write.table(tab1[[1]], file='temp.txt', row.names = F, quote = F, col.names = F)
tab2 <- read.table('temp.txt', sep=',')
colnames(tab2) <- c('unit_measure', 'ISCED11', 'age', 'sex', 'country')
tab <- cbind(tab2, tab1[,2:8])
tab <- lapply(tab, gsub, pattern='p', replacement='')
tab <- lapply(tab, gsub, pattern='b', replacement='')
tab <- lapply(tab, gsub, pattern='e', replacement='')
tab <- lapply(tab, gsub, pattern='d', replacement='')
tab <- lapply(tab, gsub, pattern=':', replacement=NA)
tab <- data.frame(tab)
tab <- tab[which(tab$sex=='T' & tab$age=='TOTAL' & tab$ISCED11=='ED5-8'),]
num_tab <- tab[,6:12]
num_tab <- sapply(num_tab, as.character)
num_tab <- matrix(data=sapply(num_tab, as.numeric), ncol=7, nrow=37)
acad_staff <- data.frame(cbind(country = as.character(tab$country),
num_staff = rowMeans(num_tab, na.rm = T)))
###############################################################################################
tab1 <- read.table('stud_aca_staff_ratio.tsv', sep='\t', header=T)
write.table(tab1[[1]], file='temp.txt', row.names = F, quote = F, col.names = F)
tab2 <- read.table('temp.txt', sep=',')
colnames(tab2) <- c('unit_measure', 'ISCED11', 'country')
tab <- cbind(tab2, tab1[,2:8])
tab <- lapply(tab, gsub, pattern='p', replacement='')
tab <- lapply(tab, gsub, pattern='b', replacement='')
tab <- lapply(tab, gsub, pattern='e', replacement='')
tab <- lapply(tab, gsub, pattern='d', replacement='')
tab <- lapply(tab, gsub, pattern=':', replacement=NA)
tab <- data.frame(tab)
tab <- tab[which(tab$ISCED11=='ED5-8'),]
num_tab <- tab[,4:10]
num_tab <- sapply(num_tab, as.character)
num_tab <- matrix(data=sapply(num_tab, as.numeric), ncol=7, nrow=36)
stud_per_staff <- cbind(country = as.character(tab$country),
stud_per_staff = rowMeans(num_tab, na.rm = T))
#sistema errori
stud_per_staff <- rbind(stud_per_staff, c('CH', 300000/34775))
stud_per_staff[2,2] <- 80000/10122
stud_per_staff[18,2] <- 220000/9345.5
stud_per_staff <- data.frame(stud_per_staff)
View(stud_per_staff)
ris <- stud_per_staff %>%
right_join(acad_staff)
View(ris)
ris <- acad_staff%>%
right_join(stud_per_staff)
write.csv(ris, file='tab_stud_staff')
write.csv(ris, file='tab_stud_staff')
write.csv(ris, file='tab_stud_staff.csv')
write.csv(ris, file='tab_stud_staff.csv', row.names = F, quote = F)
source('C:/Users/carlo/Desktop/Università/Magistrale/Anno02/Nonparametric_Statistics/Progetto/ottenere_tabelle_aggiuntive/acad_staff.R')
View(ris)
###################################################################################
eco_tab <- read.csv('Eco_data_UR.csv', header = T)
View(eco_tab)
###################################################################################
eco_tab <- read.csv('Eco_data_UR.csv', header = T, sep=';')
View(eco_tab)
ris <- acad_staff%>%
right_join(stud_per_staff, by=country)
ris <- acad_staff%>%
right_join(stud_per_staff, by='country')
View(ris)
eco_tab_complete <- ris %>%
inner_join(eco_tab, by='country')
colnames(ris)[1] <- 'Country'
eco_tab_complete <- ris %>%
inner_join(eco_tab, by='Country')
View(eco_tab_complete)
View(ris)
source('C:/Users/carlo/Desktop/Università/Magistrale/Anno02/Nonparametric_Statistics/Progetto/ottenere_tabelle_aggiuntive/acad_staff.R')
